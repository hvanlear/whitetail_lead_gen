---
// Updated Property Listing Card Component
export interface Props {
  imageUrl: string;
  price: string;
  acres: string;
  county: string;
  city: string;
  state: string;
  zipCode: string;
  isNew?: boolean;
}

const {
  imageUrl,
  price,
  acres,
  county,
  city,
  state,
  zipCode,
  isNew = false,
} = Astro.props;

// Format price with commas
const formattedPrice = parseInt(price).toLocaleString();
---

<div class='property-card'>
  <div class='position-relative'>
    <!-- Property Image -->
    <img
      src={imageUrl}
      alt={`${county} County Property`}
      class='img-fluid w-100 property-image'
    />

    <!-- New Badge (if applicable) -->
    {isNew && <div class='new-badge'>NEW</div>}
  </div>

  <!-- Price & Info Bar -->
  <div class='price-bar'>
    <div class='d-flex justify-content-between'>
      <div class='price'>${formattedPrice}</div>
      <div class='acres'>{acres} acres ±</div>
    </div>
  </div>

  <!-- Location Info -->
  <div class='location-bar'>
    <div class='location-text'>{county} County • {city}, {state} {zipCode}</div>
  </div>

  <!-- Contact Button -->
  <div class='contact-btn-container'>
    <a href='#' class='contact-btn'>CONTACT AGENT</a>
  </div>
</div>

<style>
  .property-card {
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    border: 1px solid #000;
    margin-bottom: 1.5rem;
  }

  .property-image {
    aspect-ratio: 6/3;
    object-fit: cover;
    display: block;
  }

  .new-badge {
    position: absolute;
    top: 0;
    left: 0;
    background-color: #4a90e2;
    color: white;
    font-weight: 700;
    padding: 0.3rem 1rem;
    font-size: 0.9rem;
    border-bottom-right-radius: 4px;
  }

  .price-bar {
    background-color: #1a1a1a;
    color: white;
    padding: 0.5rem 1rem;
    font-size: 1.25rem;
    font-weight: 500;
  }

  .location-bar {
    background-color: #222;
    color: #999;
    padding: 0.35rem 1rem;
  }

  .location-text {
    font-size: 0.9rem;
  }

  .contact-btn-container {
    padding: 0;
  }

  .contact-btn {
    display: block;
    background-color: #d4b978;
    color: black;
    text-align: center;
    padding: 0.75rem 1rem;
    font-weight: 700;
    text-decoration: none;
    font-size: 0.9rem;
    letter-spacing: 1px;
    transition: background-color 0.2s;
  }

  .contact-btn:hover {
    background-color: #c5aa69;
    color: black;
  }
</style>
