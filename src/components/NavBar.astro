<!-- Navbar Component for Astro -->
<nav class='navbar navbar-expand-lg navbar-dark fixed-top'>
  <div class='container'>
    <!-- Logo -->
    <a class='navbar-brand' href='/'>
      <img
        src='/images/wt-icon.svg'
        alt='Whitetail Properties'
        height='40'
        class='d-inline-block align-text-top'
      />
    </a>

    <!-- Mobile Toggle Button -->
    <button
      class='navbar-toggler'
      type='button'
      data-bs-toggle='collapse'
      data-bs-target='#navbarMain'
      aria-controls='navbarMain'
      aria-expanded='false'
      aria-label='Toggle navigation'
    >
      <span class='navbar-toggler-icon'></span>
    </button>

    <!-- Navigation Links -->
    <div class='collapse navbar-collapse' id='navbarMain'>
      <ul class='navbar-nav ms-auto mb-2 mb-lg-0'>
        <li class='nav-item'>
          <a
            class='nav-link'
            href='/'
            aria-current={Astro.url.pathname === "/" ? "page" : undefined}
            >Version A</a
          >
        </li>
        <li class='nav-item'>
          <a
            class='nav-link'
            href='/version-b'
            aria-current={Astro.url.pathname === "/version-b"
              ? "page"
              : undefined}>Version B</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Spacer to prevent content from being hidden behind the fixed navbar -->
<div class='navbar-spacer'></div>

<style>
  .navbar {
    background-color: rgba(
      30,
      28,
      26,
      0.95
    ); /* Semi-transparent version of #1E1C1A */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  /* Change navbar background when scrolled */
  .navbar.scrolled {
    background-color: rgba(30, 28, 26, 1); /* Fully opaque when scrolled */
  }

  .navbar-brand img {
    transition: all 0.3s ease;
  }

  .nav-link {
    font-weight: 500;
    padding: 0.5rem 1rem !important;
    transition: all 0.2s ease;
  }

  .nav-link:hover {
    color: #d4b978 !important; /* Gold accent color */
  }

  .nav-link[aria-current="page"] {
    color: #d4b978 !important; /* Gold accent for active page */
    border-bottom: 2px solid #d4b978;
  }

  /* Spacer to prevent content from being hidden behind the fixed navbar */
  .navbar-spacer {
    height: 70px; /* Adjust based on your navbar height */
  }

  @media (max-width: 991.98px) {
    .navbar-collapse {
      background-color: rgba(30, 28, 26, 0.98);
      padding: 1rem;
      border-radius: 0.25rem;
      margin-top: 0.5rem;
    }
  }
</style>

<script>
  // Add scrolled class to navbar when page is scrolled
  document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.querySelector(".navbar");

    if (navbar) {
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });
    }
  });
</script>
